{"version":3,"file":"renderQuill.js","sources":["../src/renderQuill.ts"],"sourcesContent":["import Quill from \"quill\";\nimport type Delta from \"quill-delta\";\nimport type Op from \"quill-delta/dist/Op\";\nimport { createQuill } from \"./createQuill\";\n\nexport function renderQuill(node: HTMLElement, quill: Quill) {\n  node.innerHTML = `<div class=\"ql-container ql-snow ql-rich-editor ql-read-only\"><div class=\"ql-editor\">${\n    (quill as any).root.innerHTML\n  }</div></div>`;\n\n  Array.from(node.querySelectorAll<HTMLElement>(\".ql-code-block\")).forEach(\n    (codeBlock) => {\n      codeBlock.innerHTML = (window as any).hljs.highlight(\n        codeBlock.getAttribute(\"data-language\"),\n        codeBlock.innerText\n      ).value;\n    }\n  );\n}\n\nexport function renderOps(node: HTMLElement, ops: Op[]) {\n  const document = node.ownerDocument,\n    tmp = document.createElement(\"div\");\n\n  tmp.style.display = \"none\";\n  document.body.appendChild(tmp);\n\n  const quill = createQuill(tmp);\n  quill.setContents({ ops } as Delta);\n\n  renderQuill(node, quill);\n  document.body.removeChild(tmp);\n}\n"],"names":["renderQuill","node","quill","innerHTML","root","Array","from","querySelectorAll","forEach","codeBlock","window","hljs","highlight","getAttribute","innerText","value","renderOps","ops","document","ownerDocument","tmp","createElement","style","display","body","appendChild","createQuill","setContents","removeChild"],"mappings":"wDAKgBA,EAAYC,EAAmBC,GAC7CD,EAAKE,UAAY,wFACdD,EAAcE,KAAKD,wBAGtBE,MAAMC,KAAKL,EAAKM,iBAA8B,mBAAmBC,SAC9DC,IACCA,EAAUN,UAAaO,OAAeC,KAAKC,UACzCH,EAAUI,aAAa,iBACvBJ,EAAUK,WACVC,kBAKQC,EAAUf,EAAmBgB,GAC3C,MAAMC,EAAWjB,EAAKkB,cACpBC,EAAMF,EAASG,cAAc,OAE/BD,EAAIE,MAAMC,QAAU,OACpBL,EAASM,KAAKC,YAAYL,GAE1B,MAAMlB,EAAQwB,EAAYN,GAC1BlB,EAAMyB,YAAY,CAAEV,IAAAA,IAEpBjB,EAAYC,EAAMC,GAClBgB,EAASM,KAAKI,YAAYR"}